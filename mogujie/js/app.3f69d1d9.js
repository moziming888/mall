(function(t){function e(e){for(var r,a,s=e[0],c=e[1],u=e[2],l=0,f=[];l<s.length;l++)a=s[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);d&&d(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,a=1;a<n.length;a++){var s=n[a];0!==o[s]&&(r=!1)}r&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},a={app:0},o={app:0},i=[];function s(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-21642ac4":"9cf3c7ee","chunk-337857b7":"585500ed","chunk-a8053188":"ac95dc49","chunk-ab176f84":"744d04b8"}[t]+".js"}function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-21642ac4":1,"chunk-337857b7":1,"chunk-a8053188":1,"chunk-ab176f84":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise((function(e,n){for(var r="css/"+({}[t]||t)+"."+{"chunk-21642ac4":"ce151f32","chunk-337857b7":"0dafae59","chunk-a8053188":"4628923d","chunk-ab176f84":"47a1219b"}[t]+".css",o=c.p+r,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var u=i[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===o))return e()}var f=document.getElementsByTagName("style");for(s=0;s<f.length;s++){u=f[s],l=u.getAttribute("data-href");if(l===r||l===o)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var r=e&&e.target&&e.target.src||o,i=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete a[t],d.parentNode.removeChild(d),n(i)},d.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){a[t]=0})));var r=o[t];if(0!==r)if(r)e.push(r[2]);else{var i=new Promise((function(e,n){r=o[t]=[e,n]}));e.push(r[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(t);var f=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(d);var n=o[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;f.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",f.name="ChunkLoadError",f.type=r,f.request=a,n[1](f)}o[t]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var f=0;f<u.length;f++)e(u[f]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0037":function(t,e,n){},"034f":function(t,e,n){"use strict";var r=n("85ec"),a=n.n(r);a.a},"0445":function(t,e,n){"use strict";var r=n("627a"),a=n.n(r);a.a},"08bb":function(t,e,n){},"0a3b":function(t,e,n){},"17b5":function(t,e,n){"use strict";var r=n("66ed"),a=n.n(r);a.a},1919:function(t,e,n){"use strict";var r=n("761c"),a=n.n(r);a.a},"1b13":function(t,e,n){"use strict";var r=n("5355"),a=n.n(r);a.a},2712:function(t,e,n){"use strict";var r=n("0037"),a=n.n(r);a.a},"496a":function(t,e,n){},5355:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("keep-alive",{attrs:{exclude:"Detail"}},[n("router-view")],1),n("main-tab-bar")],1)},o=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tab-bar"},t._l(t.tabbarList,(function(e,r){return n("router-link",{key:r,staticClass:"tabbar-item",class:t.$route.replace===e.path?"active":"",attrs:{to:e.path}},[n("div",{staticClass:"item-icon"},[n("i",{class:e.icon})]),n("div",{staticClass:"item-label"},[n("span",[t._v(t._s(e.name))])])])})),1)},s=[],c=(n("5319"),{name:"MainTabBar",data:function(){return{active:!0,tabbarList:[{name:"首页",path:"/home",icon:"el-icon-s-home"},{name:"分类",path:"/category",icon:"el-icon-menu"},{name:"购物车",path:"/cart",icon:"el-icon-shopping-cart-2"},{name:"我的",path:"/profile",icon:"el-icon-user"}]}},methods:{itemClick:function(){this.$router.replace(this.path).catch((function(){}))}}}),u=c,l=(n("1b13"),n("2877")),f=Object(l["a"])(u,i,s,!1,null,"1d575747",null),d=f.exports,p={name:"App",components:{MainTabBar:d}},h=p,m=(n("034f"),Object(l["a"])(h,a,o,!1,null,null,null)),b=m.exports,v=(n("d3b7"),n("8c4f")),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"home"}},[n("nav-bar",{staticClass:"home-nav"},[n("div",{attrs:{slot:"center"},slot:"center"},[t._v("蘑菇街")])]),n("tab-control",{directives:[{name:"show",rawName:"v-show",value:t.isTabFixed,expression:"isTabFixed"}],ref:"topTabControl",staticClass:"tab-control",attrs:{titles:["流行","新款","精选"]},on:{tabClick:t.tabClickHome}}),n("scroll",{ref:"scroll",staticClass:"scroll-content",attrs:{"probe-type":3,"pull-up-load":!0},on:{scroll:t.contentScroll,pullingUp:t.loadMore}},[n("home-swiper",{attrs:{banners:t.banners},on:{swiperImageLoad:t.swiperImageLoad}}),n("recommend-view",{attrs:{recommends:t.recommends}}),n("tab-control",{ref:"tabControl",attrs:{titles:["流行","新款","精选"]},on:{tabClick:t.tabClick}}),n("goods-list",{attrs:{"goods-list":t.showGoods}})],1),n("back-top",{directives:[{name:"show",rawName:"v-show",value:t.isShowBackTop,expression:"isShowBackTop"}],nativeOn:{click:function(e){return t.backTop(e)}}})],1)},w=[],y=n("2909"),_=n("a7ac"),k=n("5d17"),C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.banners.length>0?n("swiper",{ref:"homeSwiper",attrs:{options:t.swiperOption}},[t._l(t.banners,(function(e,r){return n("swiper-slide",{key:r,staticClass:"swiper-slide"},[n("router-link",{attrs:{to:"/category"}},[n("img",{attrs:{src:e.image,alt:""},on:{load:t.imageLoad}})])],1)})),n("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2):t._e()},T=[],L={name:"HomeSwiper",props:{banners:{type:Array,default:function(){return[]}}},data:function(){return{isLoad:!1,swiperOption:{loop:!0,autoplay:{delay:2e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0}}}},computed:{swiper:function(){return this.$refs.homeSwiper.swiper}},methods:{imageLoad:function(){this.isLoad||(this.$emit("swiperImageLoad"),this.isLoad=!0)}}},$=L,x=(n("0445"),Object(l["a"])($,C,T,!1,null,"80915d12",null)),O=x.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"recommend"},t._l(t.recommends,(function(e){return n("div",{key:e.id,staticClass:"recommend-item"},[n("router-link",{attrs:{to:"/category"}},[n("img",{attrs:{src:e.image,alt:""}}),n("div",[t._v(t._s(e.title))])])],1)})),0)},S=[],j={name:"RcommendView",props:{recommends:{type:Array,default:function(){return[]}}}},E=j,B=(n("cd1a"),Object(l["a"])(E,I,S,!1,null,"14c783ab",null)),H=B.exports,P=n("5ad3"),A=n("6d71"),M=n("f350"),N="banner",U="recommend";function R(){return Object(M["a"])({url:"/home/multidata"})}function G(t,e){return Object(M["a"])({url:"/home/data",params:{type:t,page:e}})}n("95fe");var F=n("eecb"),D=n("b95e"),q={name:"Home",components:{NavBar:_["a"],HomeSwiper:O,RecommendView:H,TabControl:P["a"],GoodsList:A["a"],Scroll:k["a"]},mixins:[F["b"],F["a"],F["c"]],data:function(){return{banners:[],recommends:[],goodsList:{pop:{page:0,list:[]},new:{page:0,list:[]},sell:{page:0,list:[]}},currentType:D["c"],tabOffsetTop:0,isTabFixed:!1}},created:function(){this._getHomeMultidata(),this._getHomeGoods(D["c"]),this._getHomeGoods(D["b"]),this._getHomeGoods(D["d"])},deactivated:function(){this.$bus.$off("itemImageLoad",this.itemImgListener)},computed:{showGoods:function(){return this.goodsList[this.currentType].list}},methods:{tabClickHome:function(t){this.tabClick(t),this.$refs.topTabControl.currentIndex=t,this.$refs.tabControl.currentIndex=t},contentScroll:function(t){this.isShowBackTop=-t.y>D["a"],this.isTabFixed=-t.y>this.tabOffsetTop},loadMore:function(){this._getHomeGoods(this.currentType)},swiperImageLoad:function(){this.tabOffsetTop=this.$refs.tabControl.$el.offsetTop},_getHomeMultidata:function(){var t=this;R().then((function(e){t.banners=e.data[N].list,t.recommends=e.data[U].list}))},_getHomeGoods:function(t){var e=this,n=this.goodsList[t].page+1;G(t,n).then((function(n){var r;(r=e.goodsList[t].list).push.apply(r,Object(y["a"])(n.data.list)),e.goodsList[t].page+=1,e.$refs.scroll.finishPullUp()}))}}},z=q,J=(n("17b5"),Object(l["a"])(z,g,w,!1,null,"08049c30",null)),V=J.exports,K=function(){return n.e("chunk-21642ac4").then(n.bind(null,"bb51"))},Y=function(){return n.e("chunk-ab176f84").then(n.bind(null,"c228"))},Q=function(){return n.e("chunk-337857b7").then(n.bind(null,"3b42"))},W=function(){return n.e("chunk-a8053188").then(n.bind(null,"6ab7"))};r["default"].use(v["a"]);var X=[{path:"/",redirect:"/home"},{path:"/home",component:V},{path:"/category",component:K},{path:"/cart",component:Y},{path:"/profile",component:Q},{path:"/detail/:id",component:W,props:!0}],Z=new v["a"]({mode:"history",linkActiveClass:"active",routes:X}),tt=Z,et=(n("7db0"),n("2f62")),nt={cartLength:function(t){return t.cartList.length},cartList:function(t){return t.cartList},cartCount:function(t){return t.cartCount}};r["default"].use(et["a"]);var rt=new et["a"].Store({state:{cartList:[]},mutations:{addCounter:function(t,e){e.count++},addToCart:function(t,e){e.checked=!0,t.cartList.push(e)}},actions:{addCart:function(t,e){var n=t.state.cartList.find((function(t){return t.iid===e.iid}));n?t.commit("addCounter",n):(e.count=1,t.commit("addToCart",e))}},getters:nt}),at=n("7212"),ot=n.n(at),it=(n("dfa4"),n("fe3c")),st=n.n(it),ct=n("caf9"),ut=n("5c96"),lt=n.n(ut),ft=(n("0fae"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"toast"},[t._v(" "+t._s(t.message)+" ")])}),dt=[],pt={name:"Toast",data:function(){return{message:"",isShow:!1}},methods:{show:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"默认文字",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;this.isShow=!0,this.message=e,setTimeout((function(){t.isShow=!1,t.message=""}),n)}}},ht=pt,mt=(n("1919"),Object(l["a"])(ht,ft,dt,!1,null,"17fbf7f3",null)),bt=mt.exports,vt={install:function(t){var e=t.extend(bt),n=new e;n.$mount(document.createElement("div")),document.body.appendChild(n.$el),t.prototype.$toast=n}},gt=vt;r["default"].config.productionTip=!1,r["default"].prototype.$bus=new r["default"],r["default"].use(ot.a),r["default"].use(ct["a"],{loading:n("bc5e")}),r["default"].use(lt.a),r["default"].use(gt),st.a.attach(document.body),new r["default"]({router:tt,store:rt,render:function(t){return t(b)}}).$mount("#app")},"5ad3":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tab-control"},t._l(t.titles,(function(e,r){return n("div",{key:r,staticClass:"tab-control-item",class:{active:r===t.currentIndex},on:{click:function(e){return t.itemClick(r)}}},[n("span",[t._v(t._s(e))])])})),0)},a=[],o={name:"TabControl",props:{titles:{type:Array,default:function(){return[]}}},data:function(){return{currentIndex:0}},methods:{itemClick:function(t){this.currentIndex=t,this.$emit("tabClick",t)}}},i=o,s=(n("2712"),n("2877")),c=Object(s["a"])(i,r,a,!1,null,"7c017d53",null);e["a"]=c.exports},"5d17":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"wrapper",staticClass:"wrapper"},[n("div",{staticClass:"content"},[t._t("default")],2)])},a=[],o=(n("a9e3"),n("1fba")),i={name:"Scroll",props:{probeType:{type:Number,default:0},pullUpLoad:{type:Boolean,default:!1}},data:function(){return{scroll:null}},mounted:function(){setTimeout(this._initScroll,20)},methods:{_initScroll:function(){var t=this;this.scroll=new o["a"](this.$refs.wrapper,{click:!0,probeType:this.probeType,pullUpLoad:this.pullUpLoad}),2!==this.probeType&&3!==this.probeType||this.scroll.on("scroll",(function(e){t.$emit("scroll",e)})),this.pullUpLoad&&this.scroll.on("pullingUp",(function(){t.$emit("pullingUp")}))},scrollTo:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;this.scroll&&this.scroll.scrollTo(t,e,n)},refresh:function(){this.scroll&&this.scroll.refresh()},finishPullUp:function(){this.scroll&&this.scroll.finishPullUp()}}},s=i,c=n("2877"),u=Object(c["a"])(s,r,a,!1,null,"3392f244",null);e["a"]=u.exports},"627a":function(t,e,n){},"66ed":function(t,e,n){},"6d71":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"goods-list"},t._l(t.goodsList,(function(t,e){return n("goods-list-item",{key:e,staticClass:"goods-item",attrs:{"goods-item":t}})})),1)},a=[],o=n("9977"),i={name:"GoodsList",components:{GoodsListItem:o["a"]},props:{goodsList:{type:Array,default:function(){return[]}}}},s=i,c=(n("9890"),n("2877")),u=Object(c["a"])(s,r,a,!1,null,"36a0fb8c",null);e["a"]=u.exports},"6d7c":function(t,e,n){},"761c":function(t,e,n){},"85ec":function(t,e,n){},"8a2f":function(t,e,n){"use strict";var r=n("496a"),a=n.n(r);a.a},"95fe":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a}));n("4d63"),n("25f0"),n("5319");function r(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=null;return function(){for(var n=this,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];e&&clearTimeout(e),e=setTimeout((function(){t.apply(n,a)}))}}function a(t,e){/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var r in n)if(new RegExp("(".concat(r,")")).test(e)){var a=n[r]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?a:o(a))}return e}function o(t){return("00"+t).substr(t.length)}},9890:function(t,e,n){"use strict";var r=n("08bb"),a=n.n(r);a.a},9977:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"goods-item",on:{click:t.itemClick}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.showImage,expression:"showImage"}],key:t.showImage,on:{load:t.imageLoad}}),n("div",{staticClass:"goods-content"},[n("p",{staticClass:"title"},[t._v(t._s(t.goodsItem.title))]),n("p",{staticClass:"info"},[n("span",{staticClass:"price"},[t._v("￥"+t._s(t.goodsItem.price))]),n("span",{staticClass:"collect"},[n("i",{staticClass:"el-icon-star-off"}),t._v(" "+t._s(t.goodsItem.cfav)+" ")])])])])},a=[],o={name:"goodsListItem",props:{goodsItem:{type:Object,default:function(){return{}}}},computed:{showImage:function(){return this.goodsItem.img||this.goodsItem.image||this.goodsItem.show.img}},methods:{imageLoad:function(){this.$bus.$emit("itemImageLoad")},itemClick:function(){this.$router.push("/Detail/"+this.goodsItem.iid)}}},i=o,s=(n("cf0a"),n("2877")),c=Object(s["a"])(i,r,a,!1,null,"0330c520",null);e["a"]=c.exports},a7ac:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav-bar"},[n("div",{staticClass:"left"},[t._t("left")],2),n("div",{staticClass:"center"},[t._t("center",[t._v("标题")])],2),n("div",{staticClass:"right"},[t._t("right")],2)])},a=[],o={name:"NavBar"},i=o,s=(n("f6d0"),n("2877")),c=Object(s["a"])(i,r,a,!1,null,"6d12f257",null);e["a"]=c.exports},b95e:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return i}));var r=1e3,a="pop",o="new",i="sell"},bc5e:function(t,e,n){t.exports=n.p+"img/placeholder.41369761.png"},cd1a:function(t,e,n){"use strict";var r=n("0a3b"),a=n.n(r);a.a},cf0a:function(t,e,n){"use strict";var r=n("f5d4"),a=n.n(r);a.a},eecb:function(t,e,n){"use strict";var r=n("95fe"),a=n("b95e"),o=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"back-top"},[n("i",{staticClass:"icon-top el-icon-top"})])}],s={name:"BackTop"},c=s,u=(n("8a2f"),n("2877")),l=Object(u["a"])(c,o,i,!1,null,"4bf5c208",null),f=l.exports;n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return p})),n.d(e,"c",(function(){return h}));var d={data:function(){return{itemImgListener:null,newRefresh:null}},mounted:function(){var t=this;this.newRefresh=Object(r["a"])(this.$refs.scroll.refresh,100),this.itemImgListener=function(){t.newRefresh()},this.$bus.$on("itemImageLoad",this.itemImgListener)}},p={components:{BackTop:f},data:function(){return{isShowBackTop:!1}},methods:{backTop:function(){this.$refs.scroll.scrollTo(0,0,500)}}},h={data:function(){return{currentType:a["c"]}},methods:{tabClick:function(t){switch(t){case 0:this.currentType=a["c"];break;case 1:this.currentType=a["b"];break;case 2:this.currentType=a["d"];break}}}}},f350:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("d3b7");var r=n("bc3a"),a=n.n(r);n("4328");function o(t){return new Promise((function(e,n){var r=a.a.create({baseURL:"http://106.54.54.237:8000/api/wh",timeout:5e3});r.interceptors.request.use((function(t){return t}),(function(t){return t})),r.interceptors.response.use((function(t){return t.data}),(function(t){if(console.log("来到了response拦截failure中"),console.log(t),t&&t.response)switch(t.response.status){case 400:t.message="请求错误";break;case 401:t.message="未授权的访问";break}return t})),r(t).then((function(t){e(t)})).catch((function(t){n(t)}))}))}},f5d4:function(t,e,n){},f6d0:function(t,e,n){"use strict";var r=n("6d7c"),a=n.n(r);a.a}});
//# sourceMappingURL=app.3f69d1d9.js.map