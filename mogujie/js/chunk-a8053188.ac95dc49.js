(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a8053188"],{"0ba5":function(t,e,s){},1148:function(t,e,s){"use strict";var i=s("a691"),n=s("1d80");t.exports="".repeat||function(t){var e=String(n(this)),s="",a=i(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(s+=e);return s}},"2f78":function(t,e,s){"use strict";var i=s("6682"),n=s.n(i);n.a},"408a":function(t,e,s){var i=s("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=i(t))throw TypeError("Incorrect invocation");return+t}},"51cd":function(t,e,s){"use strict";var i=s("b50d9"),n=s.n(i);n.a},"63f5":function(t,e,s){"use strict";var i=s("ef17"),n=s.n(i);n.a},6682:function(t,e,s){},"6ab7":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"detail"}},[s("detail-nav-bar",{ref:"navBar",on:{titleClick:t.titleClick}}),s("scroll",{ref:"scroll",staticClass:"content",attrs:{"probe-type":3},on:{scroll:t.contentScroll}},[s("detail-swiper",{attrs:{"top-images":t.topImages}}),s("detail-base-info",{attrs:{"base-info":t.baseInfo}}),s("detail-shop-info",{attrs:{"shop-info":t.shopInfo}}),s("detail-goods-info",{attrs:{"goods-info":t.goodsInfo},on:{detailImageLoad:t.detailImageLoad}}),s("detail-params-info",{ref:"param",attrs:{"params-info":t.paramsInfo}}),s("detail-comment-info",{ref:"comment",attrs:{"comment-info":t.commentInfo}}),s("goods-list",{ref:"recommend",attrs:{"goods-list":t.recommends}})],1),s("back-top",{directives:[{name:"show",rawName:"v-show",value:t.isShowBackTop,expression:"isShowBackTop"}],nativeOn:{click:function(e){return t.backTop(e)}}}),s("detail-bottom-bar",{on:{addToCart:t.addToCart}})],1)},n=[],a=(s("b0c0"),s("a9e3"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav-bar",{staticClass:"detail-nav-bar"},[s("i",{staticClass:"back el-icon-arrow-left",attrs:{slot:"left"},on:{click:t.backClick},slot:"left"}),s("div",{staticClass:"title",attrs:{slot:"center"},slot:"center"},t._l(t.titleInfos,(function(e,i){return s("span",{key:i,staticClass:"title-item ",class:{active:i===t.currentIndex},on:{click:function(e){return t.itemClick(i)}}},[t._v(" "+t._s(e)+" ")])})),0),s("i",{staticClass:"cart el-icon-shopping-cart-2",attrs:{slot:"right"},on:{click:t.cartClick},slot:"right"})])}),o=[],r=s("a7ac"),c={name:"DetailNavBar",components:{NavBar:r["a"]},props:{titleInfos:{type:Array,default:function(){return["商品","参数","评论","推荐"]}}},data:function(){return{currentIndex:0}},methods:{itemClick:function(t){this.currentIndex=t,this.$emit("titleClick",t)},backClick:function(){this.$router.back()},cartClick:function(){this.$router.push("/cart")}}},l=c,f=(s("63f5"),s("2877")),d=Object(f["a"])(l,a,o,!1,null,"3772f668",null),u=d.exports,m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("swiper",{ref:"detailSwiper",attrs:{options:t.swiperOption}},[t._l(t.topImages,(function(t,e){return s("swiper-slide",{key:e,staticClass:"swiper-slide"},[s("img",{attrs:{src:t,alt:""}})])})),s("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)},p=[],h={name:"DetailSwiper",props:{topImages:{type:Array,default:function(){return[]}}},data:function(){return{swiperOption:{pagination:{el:".swiper-pagination"},autoplay:{delay:2e3,disableOnInteraction:!1},loop:!0}}},computed:{swiper:function(){return this.$refs.detailSwiper.swiper}}},v=h,_=(s("a53e"),Object(f["a"])(v,m,p,!1,null,"7f356f77",null)),b=_.exports,I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!==Object.keys(t.baseInfo).length?s("div",{staticClass:"base-info"},[s("div",{staticClass:"info-title"},[t._v(t._s(t.baseInfo.title))]),s("div",{staticClass:"info-price"},[s("span",{staticClass:"new-price"},[t._v(t._s(t.baseInfo.newPrice))]),s("span",{staticClass:"old-price"},[t._v(t._s(t.baseInfo.oldPrice))]),t.baseInfo.discountDesc?s("span",{staticClass:"discount-desc"},[t._v(t._s(t.baseInfo.discountDesc))]):t._e()]),s("div",{staticClass:"info-other"},[s("span",[t._v(t._s(t.baseInfo.columns[0]))]),s("span",[t._v(t._s(t.baseInfo.columns[1]))]),s("span",[t._v(t._s(t.baseInfo.services[t.baseInfo.services.length-1].name))])]),s("div",{staticClass:"info-service"},t._l(t.baseInfo.services.length-1,(function(e,i){return s("span",{key:i,staticClass:"info-service-item"},[s("i",{staticClass:"el-icon-circle-check"}),s("span",[t._v(t._s(t.baseInfo.services[e-1].name))])])})),0)]):t._e()},g=[],C={name:"DetailBaseInfo",props:{baseInfo:{type:Object,default:function(){return{}}}}},k=C,w=(s("8eef"),Object(f["a"])(k,I,g,!1,null,"4edca2a6",null)),y=w.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!==Object.keys(t.shopInfo).length?s("div",{staticClass:"shop-info"},[s("div",{staticClass:"shop-top"},[s("img",{attrs:{src:t.shopInfo.shopLogo,alt:""}}),s("span",[t._v(t._s(t.shopInfo.name))])]),s("div",{staticClass:"shop-middle"},[s("div",{staticClass:"shop-middle-item shop-middle-left"},[s("div",{staticClass:"info-sells"},[s("div",[t._v(t._s(t._f("sellCountFilter")(t.shopInfo.cSells)))]),s("div",{staticClass:"sells-text"},[t._v("总销量")])]),s("div",{staticClass:"info-goods"},[s("div",[t._v(t._s(t.shopInfo.cGoods))]),s("div",{staticClass:"goods-text"},[t._v("全部宝贝")])])]),s("div",{staticClass:"shop-middle-item shop-middle-right"},[s("table",t._l(t.shopInfo.score,(function(e,i){return s("tr",{key:i},[s("td",[t._v(t._s(e.name))]),s("td",{staticClass:"score",class:{"score-better":e.isBetter}},[t._v(" "+t._s(e.score)+" ")]),s("td",{staticClass:"better",class:{"better-more":e.isBetter}},[s("span",[t._v(t._s(e.isBetter?"高":"低"))])])])})),0)])]),s("div",{staticClass:"shop-bottom"},[s("router-link",{staticClass:"enter-shop",attrs:{to:"/"}},[t._v("进店逛逛")])],1)]):t._e()},x=[],$=(s("b680"),{name:"DetailShopInfo",props:{shopInfo:{type:Object,default:function(){return{}}}},filters:{sellCountFilter:function(t){return t<1e4?t:(t/1e4).toFixed(1)+"万"}}}),O=$,D=(s("d258"),Object(f["a"])(O,T,x,!1,null,"d514dce8",null)),j=D.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!==Object.keys(t.goodsInfo).length?s("div",[s("div",{staticClass:"info-desc"},[s("div",{staticClass:"start"}),s("div",{staticClass:"desc"},[t._v(t._s(t.goodsInfo.desc))]),s("div",{staticClass:"end"})]),t._l(t.goodsInfo.detailImage,(function(e,i){return s("div",{key:i},[s("div",{staticClass:"info-key"},[t._v(" "+t._s(e.key)+" ")]),s("div",{staticClass:"info-list"},t._l(e.list,(function(e,i){return s("img",{key:i,attrs:{src:e,alt:""},on:{load:t.imageLoad}})})),0)])}))],2):t._e()},L=[],S={name:"DetailGoodsInfo",props:{goodsInfo:{type:Object,default:function(){return{}}}},data:function(){return{counter:0,imagesLength:0}},methods:{imageLoad:function(){++this.counter==this.imagesLength&&this.$emit("detailImageLoad")}},watch:{goodsInfo:function(){this.imagesLength=this.goodsInfo.detailImage[0].list.length}}},Y=S,E=(s("51cd"),Object(f["a"])(Y,B,L,!1,null,"58898066",null)),P=E.exports,F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!==Object.keys(t.paramsInfo).length?s("div",{staticClass:"params-info"},[s("div",{staticClass:"info-sizes"},[s("div",{staticClass:"info-title"},[t._v(t._s(t.paramsInfo.rule.anchor))]),s("div",{staticClass:"info-title"},[t._v(t._s(t.paramsInfo.rule.key))]),t._l(t.paramsInfo.rule.tables,(function(e,i){return s("div",{key:i,staticClass:"info-sizes-table"},t._l(e,(function(e,i){return s("div",{key:i,staticClass:"info-sizes-tr"},t._l(e,(function(e,i){return s("div",{key:i,staticClass:"info-sizes-td"},[t._v(" "+t._s(e)+" ")])})),0)})),0)})),s("div",{staticClass:"info-disclaimer"},[t._v(t._s(t.paramsInfo.rule.disclaimer))])],2),s("div",{staticClass:"info-param"},[s("div",{staticClass:"info-title"},[t._v(t._s(t.paramsInfo.info.anchor))]),s("div",{staticClass:"info-title"},[t._v(t._s(t.paramsInfo.info.key))]),t._l(t.paramsInfo.info.set,(function(e,i){return s("div",{key:i,staticClass:"info-param-item"},[s("div",{staticClass:"info-param-key"},[t._v(" "+t._s(e.key)+" ")]),s("div",{staticClass:"info-param-value"},[t._v(" "+t._s(e.value)+" ")])])}))],2),t.paramsInfo.info.images?s("div",{staticClass:"info-img"},[s("img",{attrs:{src:t.paramsInfo.info.images[0],alt:""}})]):t._e()]):t._e()},N=[],R={name:"DetailParamsInfo",props:{paramsInfo:{type:Object,default:function(){return{}}}}},z=R,A=(s("e4a7"),Object(f["a"])(z,F,N,!1,null,"5a6cd5b7",null)),G=A.exports,M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!==Object.keys(t.commentInfo).length?s("div",{staticClass:"commwnt-info"},[t._m(0),s("div",{staticClass:"comment-user"},[s("img",{attrs:{src:t.commentInfo.user.avatar,alt:""}}),s("span",[t._v(t._s(t.commentInfo.user.uname))])]),s("div",{staticClass:"comment-detail"},[s("P",[t._v(t._s(t.commentInfo.content))]),s("div",{staticClass:"info-other"},[s("span",{staticClass:"date"},[t._v(t._s(t._f("showDate")(t.commentInfo.created)))]),s("span",[t._v(t._s(t.commentInfo.style))])]),s("div",{staticClass:"info-imgs"},t._l(t.commentInfo.images,(function(t,e){return s("img",{key:e,attrs:{src:t,alt:""}})})),0)],1)]):t._e()},J=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"comment-header"},[s("div",{staticClass:"header-title"},[t._v("用户评价")]),s("div",{staticClass:"header-more"},[t._v(" 更多 "),s("i",{staticClass:"arrow-right"})])])}],U=s("95fe"),V={name:"DetailCommentInfo",props:{commentInfo:{type:Object,default:function(){return{}}}},filters:{showDate:function(t){var e=new Date(1e3*t);return Object(U["b"])(e,"yyyy-MM-dd")}}},W=V,X=(s("7949"),Object(f["a"])(W,M,J,!1,null,"f4b630cc",null)),q=X.exports,H=s("6d71"),K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bottom-bar"},[s("div",{staticClass:"bar-item bar-left"},t._l(t.BarList,(function(e,i){return s("div",{key:i},[s("i",{staticClass:"icon",class:e.icon}),s("span",{staticClass:"text"},[t._v(t._s(e.name))])])})),0),s("div",{staticClass:"bar-item bar-right"},[s("div",{staticClass:"cart",on:{click:t.addToCart}},[t._v("加入购物车")]),s("div",{staticClass:"buy",on:{click:t.addBuy}},[t._v("立即购买")])])])},Q=[],Z={name:"DetailBottomBar",data:function(){return{BarList:[{name:"客服",icon:"el-icon-chat-dot-round"},{name:"店铺",icon:"el-icon-takeaway-box"},{name:"收藏",icon:"el-icon-star-off"}]}},methods:{addToCart:function(){this.$emit("addToCart"),this.$toast.show("已成功添加到购物车")},addBuy:function(){this.$toast.show("正在跳转到结算页...")}}},tt=Z,et=(s("8799"),Object(f["a"])(tt,K,Q,!1,null,"1670c6ca",null)),st=et.exports,it=s("5d17");function nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var at=s("f350");function ot(t){return Object(at["a"])({url:"/detail",params:{iid:t}})}function rt(){return Object(at["a"])({url:"/recommend"})}var ct=function t(e,s,i){nt(this,t),this.title=e.title,this.desc=e.desc,this.newPrice=e.price,this.oldPrice=e.oldPrice,this.discountDesc=e.discountDesc,this.discountBgColor=e.discountBgColor,this.columns=s,this.services=i,this.realPrice=e.lowNowPrice},lt=s("eecb"),ft=s("b95e"),dt={name:"Detail",components:{DetailNavBar:u,Scroll:it["a"],DetailSwiper:b,DetailBaseInfo:y,DetailShopInfo:j,DetailGoodsInfo:P,DetailParamsInfo:G,DetailCommentInfo:q,GoodsList:H["a"],DetailBottomBar:st},mixins:[lt["b"],lt["a"]],data:function(){return{iid:"",topImages:[],baseInfo:{},shopInfo:{},goodsInfo:{},paramsInfo:{},commentInfo:{},recommends:[],themeTopYs:[],getThemeTopY:null,currentIndex:0}},props:["id"],created:function(){this._getDetail(),this._getRecommend()},updated:function(){var t=this;this.getThemeTopY=Object(U["a"])((function(){t._getThemeTopY()}),100)},destroyed:function(){this.$bus.$off("itemImageLoad",this.itemImgListener)},methods:{_getDetail:function(){var t=this,e=this.id;this.iid=e,ot(e).then((function(e){var s=e.result;t.topImages=s.itemInfo.topImages,t.baseInfo=new ct(s.itemInfo,s.columns,s.shopInfo.services),t.shopInfo=s.shopInfo,t.goodsInfo=s.detailInfo,t.paramsInfo=s.itemParams,0!==s.rate.cRate&&(t.commentInfo=s.rate.list[0])}))},_getRecommend:function(){var t=this;rt().then((function(e){t.recommends=e.data.list}))},_getThemeTopY:function(){this.themeTopYs=[],this.themeTopYs.push(0),this.themeTopYs.push(this.$refs.param.$el.offsetTop),this.themeTopYs.push(this.$refs.comment.$el.offsetTop),this.themeTopYs.push(this.$refs.recommend.$el.offsetTop),this.themeTopYs.push(Number.MAX_VALUE)},detailImageLoad:function(){this.newRefresh(),this.getThemeTopY()},titleClick:function(t){this.$refs.scroll.scrollTo(0,-this.themeTopYs[t],100)},contentScroll:function(t){for(var e=-t.y,s=this.themeTopYs.length,i=0;i<s-1;i++)if(e>=this.themeTopYs[i]&&e<this.themeTopYs[i+1]){this.currentIndex!==i&&(this.currentIndex=i,this.$refs.navBar.currentIndex=this.currentIndex);break}this.isShowBackTop=-t.y>ft["a"]},addToCart:function(){var t={};t.iid=this.iid,t.name=this.shopInfo.name,t.imgURL=this.topImages[0],t.title=this.baseInfo.title,t.desc=this.baseInfo.desc,t.realPrice=this.baseInfo.realPrice,this.$store.dispatch("addCart",t)}}},ut=dt,mt=(s("2f78"),Object(f["a"])(ut,i,n,!1,null,"4024073d",null));e["default"]=mt.exports},7949:function(t,e,s){"use strict";var i=s("b42a"),n=s.n(i);n.a},8799:function(t,e,s){"use strict";var i=s("e438"),n=s.n(i);n.a},"8eef":function(t,e,s){"use strict";var i=s("db5a"),n=s.n(i);n.a},"96f6":function(t,e,s){},a53e:function(t,e,s){"use strict";var i=s("96f6"),n=s.n(i);n.a},b0c0:function(t,e,s){var i=s("83ab"),n=s("9bf2").f,a=Function.prototype,o=a.toString,r=/^\s*function ([^ (]*)/,c="name";!i||c in a||n(a,c,{configurable:!0,get:function(){try{return o.call(this).match(r)[1]}catch(t){return""}}})},b42a:function(t,e,s){},b50d9:function(t,e,s){},b680:function(t,e,s){"use strict";var i=s("23e7"),n=s("a691"),a=s("408a"),o=s("1148"),r=s("d039"),c=1..toFixed,l=Math.floor,f=function(t,e,s){return 0===e?s:e%2===1?f(t,e-1,s*t):f(t*t,e/2,s)},d=function(t){var e=0,s=t;while(s>=4096)e+=12,s/=4096;while(s>=2)e+=1,s/=2;return e},u=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r((function(){c.call({})}));i({target:"Number",proto:!0,forced:u},{toFixed:function(t){var e,s,i,r,c=a(this),u=n(t),m=[0,0,0,0,0,0],p="",h="0",v=function(t,e){var s=-1,i=e;while(++s<6)i+=t*m[s],m[s]=i%1e7,i=l(i/1e7)},_=function(t){var e=6,s=0;while(--e>=0)s+=m[e],m[e]=l(s/t),s=s%t*1e7},b=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==m[t]){var s=String(m[t]);e=""===e?s:e+o.call("0",7-s.length)+s}return e};if(u<0||u>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(p="-",c=-c),c>1e-21)if(e=d(c*f(2,69,1))-69,s=e<0?c*f(2,-e,1):c/f(2,e,1),s*=4503599627370496,e=52-e,e>0){v(0,s),i=u;while(i>=7)v(1e7,0),i-=7;v(f(10,i,1),0),i=e-1;while(i>=23)_(1<<23),i-=23;_(1<<i),v(1,1),_(2),h=b()}else v(0,s),v(1<<-e,0),h=b()+o.call("0",u);return u>0?(r=h.length,h=p+(r<=u?"0."+o.call("0",u-r)+h:h.slice(0,r-u)+"."+h.slice(r-u))):h=p+h,h}})},c785:function(t,e,s){},d258:function(t,e,s){"use strict";var i=s("c785"),n=s.n(i);n.a},db5a:function(t,e,s){},e438:function(t,e,s){},e4a7:function(t,e,s){"use strict";var i=s("0ba5"),n=s.n(i);n.a},ef17:function(t,e,s){}}]);
//# sourceMappingURL=chunk-a8053188.ac95dc49.js.map